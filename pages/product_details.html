<section>
  <div class="page-header">
    <div>
      <div class="pill">Product Modules</div>
      <h1 id="product-detail-title">Product Details</h1>
    </div>
    <div class="actions">
      <a href="#product-database" class="btn btn-outline" data-route="product-database">Back to Database</a>
      <button class="btn btn-outline" id="btn-edit-product" data-action="edit-product">Edit Product</button>
      <button class="btn btn-danger" id="btn-delete-product" data-action="delete-product">Delete Product</button>
    </div>
  </div>

  <div class="grid grid-cols-1 lg:grid-cols-3 gap-5">
    <!-- Left Column: Product Information -->
    <div class="lg:col-span-2">
      <div class="card">
        <div class="pill">Product Information</div>
        <form class="space-y-4" data-form="product-edit" id="product-edit-form">
          <div class="form-two-col">
            <div class="input-group">
              <label class="input-label">Product Name *</label>
              <input class="input" name="name" id="edit-name" placeholder="Product name" required />
            </div>
            <div class="input-group">
              <label class="input-label">Brand *</label>
              <input class="input" name="brand" id="edit-brand" placeholder="Brand" required />
            </div>
            <div class="input-group">
              <label class="input-label">Model *</label>
              <input class="input" name="model" id="edit-model" placeholder="Model" required />
            </div>
            <div class="input-group">
              <label class="input-label">Manufacturer *</label>
              <input class="input" name="manufacturer" id="edit-manufacturer" placeholder="Manufacturer" required />
            </div>
          </div>
          <div class="input-group">
            <label class="input-label">Product Description *</label>
            <div class="rich-text-editor">
              <div class="rich-text-toolbar">
                <button type="button" class="toolbar-btn" data-command="bold" title="Bold">
                  <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M4.5 2.5h3.5a3 3 0 0 1 2.5 4.5 3 3 0 0 1 2.5 4.5H4.5V2.5z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                    <path d="M4.5 8h5.5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
                  </svg>
                </button>
                <select class="toolbar-select" data-command="fontSize" title="Font Size">
                  <option value="">Size</option>
                  <option value="1">8px</option>
                  <option value="2">10px</option>
                  <option value="3">12px</option>
                  <option value="4">14px</option>
                  <option value="5">16px</option>
                  <option value="6">18px</option>
                  <option value="7">24px</option>
                </select>
              </div>
              <div class="rich-text-content" contenteditable="true" id="edit-description" data-placeholder="Detailed description" role="textbox" aria-multiline="true"></div>
              <input type="hidden" name="description" id="edit-description-hidden" required />
            </div>
          </div>
          <div class="form-two-col">
            <div class="input-group">
              <label class="input-label">Origin *</label>
              <input class="input" name="origin" id="edit-origin" placeholder="Country of origin" required />
            </div>
            <div class="input-group">
              <label class="input-label">Shipment *</label>
              <input class="input" name="shipment" id="edit-shipment" placeholder="Shipping method" required />
            </div>
            <div class="input-group">
              <label class="input-label">Quantity *</label>
              <input class="input" name="quantity" id="edit-quantity" type="number" min="0" placeholder="e.g. 100" required />
            </div>
            <div class="input-group">
              <label class="input-label">Unit *</label>
              <input class="input" name="unit" id="edit-unit" placeholder="e.g. piece, kg" required />
            </div>
            <div class="input-group">
              <label class="input-label">Unit Price *</label>
              <input class="input" name="unitPrice" id="edit-unitPrice" type="number" min="0" step="0.01" placeholder="BDT" required />
            </div>
            <div class="input-group">
              <label class="input-label">Serial Number</label>
              <input class="input" name="serial" id="edit-serial" placeholder="Product serial number" />
              <small class="text-sm text-slate-500">Optional: Leave empty to keep current serial number</small>
            </div>
          </div>
          <div class="input-group">
            <label class="input-label">Product Image</label>
            <input class="input" name="image" id="edit-image" type="file" accept="image/*" />
            <small class="text-sm text-slate-500">PNG, JPG up to 2MB. Leave empty to keep current image.</small>
            <div id="current-image-preview" class="mt-3" style="display: none;"></div>
          </div>
          <div class="flex justify-end gap-3" id="form-actions">
            <button type="button" class="btn btn-outline" id="btn-cancel-edit" style="display: none;">Cancel</button>
            <button type="submit" class="btn btn-primary" id="btn-save-product" style="display: none;">Save Changes</button>
          </div>
        </form>
      </div>
    </div>

    <!-- Right Column: Product Image -->
    <div class="lg:col-span-1">
      <div class="card">
        <div class="pill">Product Image</div>
        <div class="flex flex-col items-center justify-center p-6">
          <img id="product-image-display" src="" alt="Product Image" class="w-full max-w-sm rounded-lg border border-gray-200 object-contain" style="max-height: 400px;" />
          <div id="product-image-placeholder" class="text-center text-slate-500 py-8">
            <svg class="w-24 h-24 mx-auto mb-4 text-slate-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z" />
            </svg>
            <p>No image available</p>
          </div>
        </div>
        <div class="mt-4 p-4 bg-slate-50 rounded-lg">
          <div class="text-sm text-slate-600">
            <div class="mb-2"><strong>Product ID:</strong> <span id="product-id-display">--</span></div>
            <div class="mb-2"><strong>Serial Number:</strong> <span id="product-serial-display">--</span></div>
            <div><strong>Format:</strong> <span id="product-format-display">--</span></div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

