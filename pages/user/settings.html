<section>
  <div class="page-header">
    <div>
      <div class="pill">Profile Settings</div>
      <h1>Edit Profile & Settings</h1>
    </div>
    <div class="actions">
      <a href="#user/profile" data-route="user/profile" class="btn btn-outline">View Profile</a>
    </div>
  </div>

  <!-- Profile Picture Upload -->
  <div class="card mb-6">
    <div class="panel-header mb-6">
      <h3 class="m-0">Profile Picture</h3>
    </div>
    <div class="flex flex-col md:flex-row items-start md:items-center gap-6">
      <div id="profile-picture-preview-wrapper" style="flex-shrink: 0;">
        <div id="profile-picture-preview" style="width: 120px; height: 120px; border-radius: 50%; background: var(--brand-primary, #3b82f6); color: white; display: flex; align-items: center; justify-content: center; font-weight: 600; font-size: 2.5rem; border: 4px solid #e2e8f0; overflow: hidden; position: relative;">
          <img id="profile-picture-preview-img" src="" alt="Profile Picture" style="width: 100%; height: 100%; object-fit: cover; display: none;" />
          <span id="profile-picture-preview-initials">--</span>
        </div>
      </div>
      <div class="flex-1">
        <label for="profile-picture-input" class="block text-sm font-medium text-slate-700 mb-2">Upload New Picture</label>
        <input type="file" id="profile-picture-input" accept="image/*" class="input" style="max-width: 300px;" />
        <p class="text-xs text-slate-500 mt-2">Maximum file size: 2MB. Supported formats: JPG, PNG, GIF</p>
        <div id="profile-picture-error" class="hidden text-red-600 text-sm mt-2"></div>
      </div>
    </div>
  </div>

  <!-- Personal Information Form -->
  <div class="card mb-6">
    <div class="panel-header mb-6">
      <h3 class="m-0">Personal Information</h3>
    </div>
    <form id="profile-settings-form" class="space-y-6">
      <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
        <div class="input-group">
          <label for="settings-name" class="input-label">Full Name *</label>
          <input type="text" id="settings-name" name="name" class="input" required placeholder="Enter your full name" />
        </div>
        <div class="input-group">
          <label class="input-label">Email</label>
          <input type="email" id="settings-email" class="input" disabled style="background: #f1f5f9; cursor: not-allowed;" />
          <p class="text-xs text-slate-500 mt-1">Email cannot be changed</p>
        </div>
        <div class="input-group">
          <label class="input-label">Username</label>
          <input type="text" id="settings-username" class="input" disabled style="background: #f1f5f9; cursor: not-allowed;" />
          <p class="text-xs text-slate-500 mt-1">Username cannot be changed</p>
        </div>
        <div class="input-group">
          <label class="input-label">Role</label>
          <input type="text" id="settings-role" class="input" disabled style="background: #f1f5f9; cursor: not-allowed;" />
        </div>
      </div>

      <div class="input-group">
        <label for="settings-bio" class="input-label">Bio / About Me</label>
        <textarea id="settings-bio" name="bio" class="input" rows="4" placeholder="Tell us about yourself..."></textarea>
        <p class="text-xs text-slate-500 mt-1">A brief description about yourself</p>
      </div>

      <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
        <div class="input-group">
          <label for="settings-phone" class="input-label">Phone Number</label>
          <input type="tel" id="settings-phone" name="phone" class="input" placeholder="+1 (555) 123-4567" />
        </div>
        <div class="input-group">
          <label for="settings-address" class="input-label">Address</label>
          <input type="text" id="settings-address" name="address" class="input" placeholder="Street address" />
        </div>
        <div class="input-group">
          <label for="settings-city" class="input-label">City</label>
          <input type="text" id="settings-city" name="city" class="input" placeholder="City" />
        </div>
        <div class="input-group">
          <label for="settings-country" class="input-label">Country</label>
          <input type="text" id="settings-country" name="country" class="input" placeholder="Country" />
        </div>
      </div>

      <div id="profile-form-error" class="hidden text-red-600 text-sm bg-red-50 p-3 rounded"></div>
      <div id="profile-form-success" class="hidden text-green-600 text-sm bg-green-50 p-3 rounded"></div>

      <div class="flex gap-4">
        <button type="submit" class="btn btn-primary">Save Changes</button>
        <button type="button" id="cancel-profile-btn" class="btn btn-outline">Cancel</button>
      </div>
    </form>
  </div>

  <!-- Password Change Section -->
  <div class="card">
    <div class="panel-header mb-6">
      <h3 class="m-0">Change Password</h3>
    </div>
    <form id="password-change-form" class="space-y-6">
      <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
        <div class="input-group">
          <label for="current-password" class="input-label">Current Password *</label>
          <input type="password" id="current-password" name="currentPassword" class="input" required placeholder="Enter current password" />
        </div>
        <div class="input-group">
          <label for="new-password" class="input-label">New Password *</label>
          <input type="password" id="new-password" name="newPassword" class="input" required placeholder="Enter new password" minlength="6" />
          <p class="text-xs text-slate-500 mt-1">Minimum 6 characters</p>
        </div>
        <div class="input-group md:col-span-2">
          <label for="confirm-password" class="input-label">Confirm New Password *</label>
          <input type="password" id="confirm-password" name="confirmPassword" class="input" required placeholder="Confirm new password" minlength="6" />
        </div>
      </div>

      <div id="password-form-error" class="hidden text-red-600 text-sm bg-red-50 p-3 rounded"></div>
      <div id="password-form-success" class="hidden text-green-600 text-sm bg-green-50 p-3 rounded"></div>

      <div class="flex gap-4">
        <button type="submit" class="btn btn-primary">Update Password</button>
        <button type="button" id="cancel-password-btn" class="btn btn-outline">Clear</button>
      </div>
    </form>
  </div>
</section>

